### 事务操作(Spring事务管理介绍)  
+ 事务添加到javaEE三层结构的service层(业务逻辑层)  
+ 在Spring进行事务管理操作有两种方式  
1. 编程式事务管理  
2. **声明式事务管理**  
+ 声明式事务管理  
1. 基于注解方式  
2. 基于XML配置文件方式  
+ 在Spring中进行声明式事务管理，底层使用了AOP  
1. Spring事务管理API  
提高一个接口PlatformTransactionManager，代表事务管理器，这个接口针对不同框架提供不同的实现类，这里的实现类是DataSourcecTransactionManager  
### 事务操做(基于注解)  
+ 在Spring配置文件中配置事务管理器  
```java
<!--  创建事务管理器-->
<!--  这里因为基于jdbcTemplate，所以使用PlatformTransactionManager的实现类DataSourceTransactionManager
如果为不同的框架，需要不用的实现类-->
  <bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
<!--    指定数据源-->
    <property name="dataSource" ref="dataSource"></property>
  </bean>
```  
+ 在配置文件中开启事务注解  
1. 在配置文件中引入tx名称空间  
2. 开启事务注解  
```java
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:context="http://www.springframework.org/schema/context"
  xmlns:aop="http://www.springframework.org/schema/aop"
  xmlns:tx="http://www.springframework.org/schema/tx"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
                      http://www.springframework.org/schema/context
                      http://www.springframework.org/schema/context/spring-context.xsd
                      http://www.springframework.org/schema/tx
                      http://www.springframework.org/schema/tx/spring-tx.xsd
                      http://www.springframework.org/schema/aop
                      http://www.springframework.org/schema/aop/spring-aop.xsd">

  <context:component-scan base-package="com.sogou"></context:component-scan>

  <!-- 数据库连接池 -->
  <bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource"
    destroy-method="close">
    <property name="url" value="jdbc:mysql://10.160.58.128/user_db" />
    <property name="username" value="root" />
    <property name="password" value="123456" />
    <property name="driverClassName" value="com.mysql.jdbc.Driver" />
  </bean>

  <bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
    <property name="dataSource" ref="dataSource"></property>
  </bean>

<!--  创建事务管理器-->
<!--  这里因为基于jdbcTemplate，所以使用PlatformTransactionManager的实现类DataSourceTransactionManager
如果为不同的框架，需要不用的实现类-->
  <bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
<!--    指定数据源-->
    <property name="dataSource" ref="dataSource"></property>
  </bean>

<!--  开启事务注解-->
  <tx:annotation-driven transaction-manager="transactionManager"></tx:annotation-driven>

</beans>
```



