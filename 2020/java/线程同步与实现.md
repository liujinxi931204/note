 ### 几个小概念  
+ 临界资源：当多线程访问同一个对象时，这个对象叫做临界资源  
+ 原子操作：在临界资源中不可分割的操作叫做原子操作  
+ 线程不安全：多线程同时访问同一个对象，破坏了不可分割的操作，就可能会发生数据不一致  
### 竞态条件和内存可见性  
线程和线程之间是共享内存的，当多线程对共享内存进行操作时有几个问题是难以避免的，竞态条件和内存可见性  
#### 竞态条件  
当多线程访问和操作同一对象的时候计算的正确性取决于多个线程的交替执行时序时，就会发生竞态条件  
最常见的竞态条件为  
1. 先检测后执行。执行依赖于检测的结果，而检测结果依赖于多个线程的执行时序，而多个线程的执行时序通常是不固定不可判断的，从而导致执行结果出现各种问题  
2. 延迟初始化(最典型的就是单例)  
加锁可以解决这个问题  
+ 使用synchornized关键字  
+ 使用显式锁（Lock）  
+ 使用原子变量  
#### 内存可见性  
一个线程堆内存中的一个数据做出了修改，但是并没有及时写入到内存中（暂时存放在缓存中）；这时另一个线程对同样的数据进行修改的时候拿到的就是内存中还没有被修改的数据，也就是说一个线程对一个共享变量的修改，另一个线程不能马上看到，甚至永远看不到  
解决这个问题的常见方法是  
+ 使用volaytile关键字  
+ 使用synchornized关键字或显式锁同步  
### 同步  
#### synchornized  
synchornized关键字是java中的关键字，是一种同步锁，他修饰的对象有以下几种  
1. 修饰一个代码块，被修饰的代码块称为同步代码块，其作用范围是大括号{}括起来的部分，作用的对象是调用这个代码块的对象  
2. 修饰一个方法，被修饰的方法称为同步方法，起作用范围是整个方法，作用的对象是调用这个方法的对象  
3. 修饰一个静态方法，其作用的范围是整个静态方法，作用的对象是这个类的所有对象  
4. 修饰一个类，其作用范围是synchornized后面括起来的部分，作用的对象是这个类的所有对象  
##### 修饰一个代码块  
1. 一个线程访问一个对象中的synchornized(this)同步代码块时，其他视图访问该对象的线程将被阻塞  
```java

```




