 ### 几个小概念  
+ 临界资源：当多线程访问同一个对象时，这个对象叫做临界资源  
+ 原子操作：在临界资源中不可分割的操作叫做原子操作  
+ 线程不安全：多线程同时访问同一个对象，破坏了不可分割的操作，就可能会发生数据不一致  
### 竞态条件和内存可见性  
线程和线程之间是共享内存的，当多线程对共享内存进行操作时有几个问题是难以避免的，竞态条件和内存可见性  
#### 竞态条件  
当多线程访问和操作同一对象的时候计算的正确性取决于多个线程的交替执行时序时，就会发生竞态条件  
最常见的竞态条件为  
1. 先检测后执行。执行依赖于检测的结果，而检测结果依赖于多个线程的执行时序，而多个线程的执行时序通常是不固定不可判断的，从而导致执行结果出现各种问题  
2. 延迟初始化()
