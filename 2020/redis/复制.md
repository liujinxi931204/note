redis提高了复制功能，实现了相同数据的多个redis副本，复制功能时redis高可用的基础  
### 配置  
#### 建立复制  
参与复制的redis实例划分为主节点(master)和从节点(slave)。默认情况下，redis都是主节点。每个从节点只能有一个主节点，而主节点可以同时具有多个从节点。复制的数据流是单向的，只能由主节点复制到从节点。配置复制的方式有以下三种  
+ 在配置文件中加入slave {masterHost} {masterPort}随redis启动生效  
+ 在redis-server的启动命令后面加入--slaveof {masterHost} {masterPort}生效  
+ 直接使用命令slaveof {masterHost} {masterPort}生效  
#### 断开复制  
slaveof命令不但可以建立复制，还可以在从节点上执行slaveof no one来断开与主节点复制关系  
断开复制主要流程  
+ 断开与主节点复制关系  
+ 从节点晋升为主节点  
从阶段断开复制后并不会抛弃原有数据，只是无法再获取主节点上的数据变化  
通过slaveof命令还可以实现切主操作，所谓切主操作是指把当前从节点对主节点的复制切换到另一个主节点。执行slaveof {newMasterHost} {newMasterPort}命令即可  
切主操作流程如下：
+ 断开与旧主节点复制关系  
+ 与新主节点建立复制关系  
+
