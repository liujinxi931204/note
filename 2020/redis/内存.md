### 内存使用统计  
可以通过执行`info memory`命令获取内存相关指标  
需要重点关注的指标由：used_memory_rss、used_memory以及它们的比值mem_fragmentation_ratio  
当mem_fragmentation_ratio>1时，说明used_memory_rss-used_memory多出的部分并没有用于数据存储，而是被内存碎片所消耗，如果两者相差很大，说明碎片率很严重  
当mem_fragmentation_ratio<1时，这种情况一般出现在现在操作系统把redis内存交换(swap)到硬盘导致，出现这种情况时要格外关注，redis性能会变得很差，甚至僵死  
#### 内存消耗划分  
redis进程内存消耗主要包括：自身内存+对象内存+缓冲内存+内存碎片，其中redis空进程自身内存消耗非常少，通常used_memoey_rss在3MB左右，used_memory在800KB左右，一个空的redis进程消耗内存可以忽略不计  
![title](https://raw.githubusercontent.com/liujinxi931204/image/master/gitnote/2020/09/25/1601027457818-1601027457867.png)  
