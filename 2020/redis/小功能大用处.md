## 慢查询分析  
所谓慢查询日志就是系统在命令执行前后计算每条命令的执行时间，当超过设定的阈值，就将这条命令的相关信息(例如发生时间、耗时、命令的详细信息)记录下来  
redis客户端执行一条命令分为如下4个部分：  
![title](https://raw.githubusercontent.com/liujinxi931204/image/master/gitnote/2020/09/15/1600155147221-1600155147222.png)  
需要注意：慢查询只统计命令执行的时间，所以没有慢查询并不代表客户端没有超时  
+ 慢查询阈值怎么设置  
redis提供了slowlog-log-slower-than配置来解决这个问题，它的单位时微秒，默认值是10000。如果设置slowlog-log-slower-than=0，会记录所有命令；如果设置slowlog-log-slower-than<0,对于任何命令都会不记录  
+ 慢查询记录存放在哪里  
实际上redis使用了一个列表来存储慢查询日志，slowlog-max-len就是这个列表的最大长度。一个新命令满足慢查询条件时被插入到这个列表中，当慢查询日志列表已处于最大长度时，最早插入的一个命令将会从列表中移除  

