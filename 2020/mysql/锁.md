![title](https://raw.githubusercontent.com/liujinxi931204/image/master/gitnote/2020/06/17/1592384728792-1592384729092.png)  
# MySQL锁  
锁是计算机协调多个进程或线程并访问某一资源的机制  
## MySQL锁概述  
MyISAM和MEMORY存储引擎采用的是表级锁(table-level locking);BDB存储引擎采用的是页面锁(page-level locking),但也支持表级锁;InnoDB存储引擎默认采用的是行级锁(row-level locking)，也支持表级锁  
1. 表级锁：开销小，加锁快，不会出现死锁；锁定粒度大，发生锁冲突的概率最高，并发度最低  
2. 行级锁：开销大，加锁慢，会出现死锁；锁定粒度小，发生锁冲突的概率最低，并发度最高  
3. 页面锁：开销和加锁时间介于表锁和行锁之间；会出现死锁；锁定粒度介于表锁和行锁之间，并发度一般  
BDB已经被InnoDB所取代  
## MyISAM表锁  
MyISAM存储引擎只支持表锁，不支持行锁和事务  
### 查看表锁争用情况  
`show status like '%table_locks%';`  
![title](https://raw.githubusercontent.com/liujinxi931204/image/master/gitnote/2020/08/26/1598429010951-1598429011016.png)  
其中如果Table_locks_waited的值比较高，则说明存在着较严重的表级锁争用情况  
### MyISAM表级


